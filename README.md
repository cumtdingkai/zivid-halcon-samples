# Zivid & HALCON - Samples

This repository contains code samples for the usage of a **Zivid** 3D camera in **HALCON**.

## Samples list

There are two main categories of samples: **Camera** and **Applications**. The samples in the **Camera** category focus only on how to use the camera. The samples in the **Applications** category use the output generated by the camera, such as the 3D point cloud, a 2D image or other data from the camera. These samples shows how the data from the camera can be used.

- **Camera**
  - **Basic**
    - **Capture** ([**hdev**][hdev-capture-url]) - This example shows how to acquire a 3D color point cloud from the camera and use it to generate a HALCON ObjectModel3D which is then visualized.
    - **CaptureHDR** ([**hdev**][hdev-captureHDR-url]) - This example shows how to acquire an HDR image from the camera and use it to generate a HALCON ObjectModel3D which is then visualized.
    - **CaptureHDRCompleteSettings** ([**hdev**][hdev-captureHDRCompleteSettings-url]) - This example shows how to acquire an HDR image from the camera (with fully configured settings for each image) and use it to generate a HALCON ObjectModel3D which is then visualized.
    - **CaptureHDRLoop** ([**hdev**][hdev-captureHDRLoop-url]) - This example shows how to acquire HDR images from the camera in a loop (while actively changing some HDR settings). Each HDR image is used to generate a HALCON ObjectModel3D which is then visualized. Settings are read from .json files. There are example settings available in /settings. However, you may also get settings from Zivid Studio. When you save settings they will be stored in .yaml format. Halcon only support reading JSON files, so in order to convert them to JSON use [**YAMLSettingsToJSON**][YAMLSettingsToJSON-url].
    - **ConnectToSerialNumberCamera** ([**hdev**][hdev-connectToSerialNumberCamera-url]) - This example shows how to connect to a specific Zivid 3D camera based on its serial number.
    - **CaptureSavePLY** ([**hdev**][hdev-captureSavePLY-url]) - This example shows how to acquire a 3D color point cloud from the camera and save it to a .ply file format.
    - **CaptureViaGenICam** ([**cpp**][cpp-captureViaGenICam-url]) - This example shows how to capture and save a point cloud using GenICam interface and Halcon C++ SDK.
    - **CaptureViaZivid** ([**cpp**][cpp-captureViaZivid-url]) - This example shows how to capture a point cloud using Zivid SDK, transform it to a Halcon point cloud and save it using Halcon C++ SDK.
  - **InfoUtilOther**
    - **QuerySettingsAndParameters** ([**hdev**][hdev-querySettingsAndParameters-url]) - This example shows how to query information about the image acquisition interface and selected specific parameters of Zivid camera.

- **Applications**
  - **Basic**
    - **FileFormats**
      - **ReadPLY** ([**hdev**][hdev-readPLY-url]) - This example shows how to import and display a Zivid point cloud from a PLY file.
  - **Advanced**
    - **ObjectMatching** ([**hdev**][hdev-objectMatching-url])
      - **SurfaceMatchingCreateModelFromFile** ([**hdev**][hdev-surfaceMatchingCreateModelFromFile-url]) - This example shows how to create a model for surface-based matching algorithm integrated into HALCON. This example comes with two models created by this program: a Pringles can (190 g) and a plastic Coca-Cola bottle (0.5 l).
      - **SurfaceMatchingCreateModel** ([**hdev**][hdev-surfaceMatchingCreateModel-url]) - This example shows how to create a model for surface-based matching algorithm integrated into HALCON. This example comes with two models created by this program: a Pringles can (190 g) and a plastic Coca-Cola bottle (0.5 l).
      - **SurfaceMatchingFindModelFromFile** ([**hdev**][hdev-surfaceMatchingFindModelFromFile-url]) - This example shows surface-based 3D matching on data taken with the Zivid camera. The model used for matching is created from a reference view of the object. That model is then searched for in a newly acquired 3D point cloud. This example comes with two existing object models: a Pringles can (190 g) and a plastic Coca-Cola bottle (0.5 l).
      - **SurfaceMatchingFindModel** ([**hdev**][hdev-surfaceMatchingFindModel-url]) - This example shows surface-based 3D matching on data taken with the Zivid camera. The model used for matching is created from a reference view of the object. That model is then searched for in a newly acquired 3D point cloud. This example comes with two existing object models: a Pringles can (190 g) and a plastic Coca-Cola bottle (0.5 l).

- **Procedures**
  - **get_first_available_zivid_device** ([**hdev**][hdev-get_first_available_zivid_device-url]) - This procedure returns the first Zivid device from the input tuple of devices. The input tuple 'Devices' is typically returned by info_framegrabber function as follows: 'info_framegrabber ('GenICamTL','device', Information, Devices)'

## Instructions

1. [**Install Zivid Software**](https://www.zivid.com/downloads).
Note: The version tested with Zivid cameras is 1.8.0.

2. [**Download Zivid Sample Data**](https://zivid.atlassian.net/wiki/spaces/ZividKB/pages/450363393/Sample+Data).

3. [**Install HALCON Software**](https://www.mvtec.com/products/halcon/).
Note: The version tested with Zivid cameras is 19.05 Progress for Windows.

4. Launch HALCON.

5. Open and run one of the samples. Check out [how to run a HALCON sample](https://zivid.atlassian.net/wiki/spaces/ZividKB/pages/427841/How+to+run+a+HALCON+sample).

## Support
If you need assistance with using Zivid cameras, visit our Knowledge Base at [https://help.zivid.com/](https://help.zivid.com/) or contact us at [customersuccess@zivid.com](mailto:customersuccess@zivid.com).

## Licence
Zivid Samples are distributed under the [BSD license](https://github.com/zivid/halcon-samples/blob/master/LICENSE).

[hdev-capture-url]: source/hdev/Camera/Basic/Capture.hdev
[hdev-captureHDR-url]: source/hdev/Camera/Basic/CaptureHDR.hdev
[hdev-captureSavePLY-url]: source/hdev/Camera/Basic/CaptureSavePLY.hdev
[hdev-captureHDRCompleteSettings-url]: source/hdev/Camera/Basic/CaptureHDRCompleteSettings.hdev
[hdev-captureHDRLoop-url]: source/hdev/Camera/Basic/CaptureHDRLoop.hdev
[YAMLSettingsToJSON-url]: source/hdev/Camera/Basic/YAMLSettingsToJSON.py
[hdev-connectToSerialNumberCamera-url]: source/hdev/Camera/Basic/ConnectToSerialNumberCamera.hdev
[hdev-querySettingsAndParameters-url]: source/hdev/Camera/InfoUtilOther/QuerySettingsAndParameters.hdev
[hdev-readPLY-url]: source/hdev/Applications/Basic/FileFormats/ReadPLY.hdev
[hdev-objectMatching-url]: source/hdev/Applications/Advanced/ObjectMatching
[hdev-surfaceMatchingCreateModelFromFile-url]: source/hdev/Applications/Advanced/ObjectMatching/SurfaceMatchingCreateModelFromFile.hdev
[hdev-surfaceMatchingCreateModel-url]: source/hdev/Applications/Advanced/ObjectMatching/SurfaceMatchingCreateModel.hdev
[hdev-surfaceMatchingFindModelFromFile-url]: source/hdev/Applications/Advanced/ObjectMatching/SurfaceMatchingFindModelFromFile.hdev
[hdev-surfaceMatchingFindModel-url]: source/hdev/Applications/Advanced/ObjectMatching/SurfaceMatchingFindModel.hdev
[hdev-get_first_available_zivid_device-url]: source/hdev/Procedures/get_first_available_zivid_device.hdvp
[cpp-captureViaGenICam-url]: source/cpp/Camera/Basic/CaptureViaGenICam/CaptureViaGenICam.cpp
[cpp-captureViaZivid-url]: source/cpp/Camera/Basic/CaptureViaZivid/CaptureViaZivid.cpp
